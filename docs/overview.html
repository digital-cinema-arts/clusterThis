<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>clusterThis: clusterThis Overview</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">clusterThis
   &#160;<span id="projectnumber">2.5.365</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('overview.html','');});
/* @license-end */
</script>
<div id="doc-content">
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">clusterThis Overview </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="Contents"></a>
Contents</h1>
<ul>
<li><a class="el" href="overview.html#secParameters">Parameters</a></li>
<li><a class="el" href="overview.html#secInstall">Installation</a></li>
<li><a class="el" href="overview.html#secNotes">Notes</a></li>
<li><a class="el" href="overview.html#secDesignNotes">secDesignNotes</a></li>
<li><a class="el" href="overview.html#secDebugTips">Debug Tips</a></li>
</ul>
<h1><a class="anchor" id="secParameters"></a>
Parameters</h1>
<p>The current set of parameters are:</p>
<p><b>Setup</b> <b>Tab:</b> </p><ul>
<li>Min/Max Bounds: The bounding box of the objects/volume being instanced </li>
<li>Use Geo File: The filename of th egeometry file to use instead point cloud from the IFD file. </li>
<li>Type: The type of geometry to instance </li>
<li>Num. Copies: Number of copies of the geometry to instance per point of input geometry </li>
<li>Recursion: Number of copies of the geometry per copy per point of input geometry </li>
<li>Radius: The distance from the center of the point to the instanced geometry </li>
<li>Size: The size (X, Y, Z) of the instanced geometry primitive </li>
<li>Frequency: Frequency X,Y,Z </li>
<li>Offset: Offset X,Y,Z </li>
<li>Instance Probability: Controls the amount of "randomness" in choosing to instance an object or not. </li>
<li>Instance Geometry File: Geometry disk file to be instanced (is there's no geo_fname point attribute) </li>
<li>Deferred Instancing: This will generate additional <a class="el" href="classVRAY__Procedural.html">VRAY_Procedural</a> objects, which then instance the geometry as needed by mantra. If unchecked, all the geometry will be instanced at one time </li>
<li>Motion Blur: Motion blur type: None, Velocity or Deformation </li>
<li>Shutter: The open and close shutter value for motion blur </li>
<li>Messages: The verbosity of the messages sent to the console during rendering</li>
</ul>
<p><b>Noise</b> <b>Tab:</b> </p><ul>
<li>Type: Simple noise generator noise types Perlin, Sparse, Alligator </li>
<li>Amplitude: Amplitude of noise applied to the position of the instanced geometry Noise Roughness: The "roughness" of the noise function </li>
<li>Roughness: Roughness of the generated noise </li>
<li>Fractal Depth: Depth of recursion for the noise generator </li>
<li>Attenuation: Amount of attenuation applied to the noise generator </li>
<li>Seed: Seed for the noise generator</li>
</ul>
<p><b>CVEX</b> <b>Tab:</b> </p>
<ul>
<li>Instance: Will run CVEX on each instance </li>
<li>Pre-Process: Will run CVEX on incoming point cloud </li>
<li>Instance: Will run CVEX on the entire set of instanced geometry</li>
</ul>
<ul>
<li>CVEX Point Shader: The file name of the .vex shader to be used on points </li>
<li>Execute Point VEX Code: Execute the VEX code on the instanced points </li>
<li>CVEX Primitive Shader: The file name of the .vex shader to be used on prinitves </li>
<li>Execute Primitive VEX Code: Execute the VEX code on the instanced primitives</li>
</ul>
<ul>
<li>CVEX Vars (point) The point attributes sent to the CVEX code for processing </li>
<li>CVEX Vars (primitive) The primitive attributes sent to the CVEX code for processing</li>
</ul>
<p><b>Defaults</b> <b>Tab:</b> </p><ul>
<li>TODO</li>
</ul>
<p><b>Post</b> Process <b>Tab:</b> </p><ul>
<li>Enable </li>
<li>Particle Footprint </li>
<li>WS Units </li>
<li>Instance Offset </li>
<li>Voxel Size </li>
<li>Radius Min </li>
<li>Half Bandwidth </li>
<li>Fog Volume </li>
<li>Gradient Width </li>
<li>Falloff </li>
<li>Filter: Median Mean, Mean Curvature, Laplacian. Offset (with offset amount) </li>
<li>Position Influence </li>
<li>Velocity Influence </li>
<li>Normal Influence </li>
<li>Write Debug Files</li>
</ul>
<p><b>Misc</b> <b>Tab:</b> </p><ul>
<li>Temp File Path: Temporary file for the instanced geometry </li>
<li>Save the geometry in a temp cache file (for optimization) </li>
<li>Save temp cache file: Do not delete cache file (to save the temp geometry cache file for later use)</li>
</ul>
<h1><a class="anchor" id="secInstall"></a>
Installation</h1>
<p>To install the "clusterThis" mantra procedural DSO, there are 4 components that need to be installed: <br  />
 <br  />
 1) The "executable" that runs when mantra calls the clusterThis functions <br  />
 2) The VRAYprocedural configuration file to tell mantra where to find the clusterThis DSO or DLL <br  />
 3) The OTL, which is the interface to the mantra geometry procedural allowing the user to control it's behaviour <br  />
 4) The OpenVDB libraries <br  />
</p>
<p><b>Step</b> <b>1</b>: </p><pre>
The "executables":
VRAY_clusterThis.so
VRAY_clusterThis.dylib</pre><pre>Place one of these (depending on operating system) in a typical mantra DSO/DLL location, e.g.:
$HOME/houdiniX.XX/dso/mantra/
$JOB/houdiniX.XX/dso/mantra/
</pre><p><b>Step</b> <b>2</b>: </p><pre>
The mantra procedural configuration file:
VRAYprocedural</pre><pre>Place this file (or append the contents to your current VRAYprocedural file) in a location searched by Houdini:
$HOME/houdiniX.XX/
$JOB/houdiniX.XX/
</pre><p><b>Step</b> <b>3</b>: </p><pre>
Geometry Shader OTL:
VM_GEO_clusterThis.otl</pre><pre>Place this file in a location searched by Houdini:
$HOME/houdiniX.XX/otls/
$JOB/houdiniX.XX/otls/
</pre><p><b>Step</b> <b>4</b>: </p><pre>
The Open VDB Libraries:
Copy the openvdb lib files (libopenvdb.so&amp; libopenvdb_houdini.so) to a location on your system if you do not already have them installed.  Be sure to set the LD_LIBRARY_PATH if needed to find the libaries.
</pre><h1><a class="anchor" id="secNotes"></a>
Notes</h1>
<p>NOTES:</p>
<h1><a class="anchor" id="secDesignNotes"></a>
secDesignNotes</h1>
<p>Flowcharts:</p>
<p><b>Overall</b> mantra procedural call sequence: <a href="http://www.digitalcinemaarts.com/dev/clusterThis/design/clusterThis_overall.pdf">http://www.digitalcinemaarts.com/dev/clusterThis/design/clusterThis_overall.pdf</a></p>
<p><b>render()</b> method algorithm: <a href="http://www.digitalcinemaarts.com/dev/clusterThis/design/clusterThis_flowchart.pdf">http://www.digitalcinemaarts.com/dev/clusterThis/design/clusterThis_flowchart.pdf</a></p>
<p><b>postProcess()</b> algorithm: <a href="http://www.digitalcinemaarts.com/dev/clusterThis/design/clusterThis_postProcess.pdf">http://www.digitalcinemaarts.com/dev/clusterThis/design/clusterThis_postProcess.pdf</a></p>
<h1><a class="anchor" id="secDebugTips"></a>
Debug Tips</h1>
<p>1) To make sure the clusterThis DSO/DLL is available to mantra, from a UNIX (or CygWIN on Windows) shell, execute the following command:</p>
<pre>
earth:~&gt; mantra -V4
Registering procedural 'clusterThis'
Registering procedural 'sprite'
Registering procedural 'image3d'
Registering procedural 'metapoly'
Registering procedural 'file'
Registering procedural 'fur'
Registering procedural 'program'
Registering procedural 'hscriptinstance'
Registering procedural 'image3dvolume'
mantra Version 9.5.169 (Compiled on 07/17/08)
</pre><p>The verbosity level of 4 or greater for mantra will report which mantra procedural DSO's are available. If clusterThis is not in this list, the DSO is not in the right location, or the VRAYprocedural file isn't correct. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Sun Dec 1 2019 17:56:45 for clusterThis by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.16 </li>
  </ul>
</div>
</body>
</html>
